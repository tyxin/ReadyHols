{% extends "/login/collapse-bar.html" %}
{% block title %}Ready!Hols{% endblock %}
{% block head %} {{ super() }} {% endblock %}

{% block content %}
<style>
    .top-container{ margin: 5% 2% 5% 2%; }
    .bottom-container{margin-top: 2%;}
    .col{padding-top: 1%}

    .image { position: relative; width: 100%; }
         
    html, body {
    max-width: 100%;
    overflow-x: hidden;
    }

    .vacation-card{
        margin-right:0%;
        margin-top: 0%;
        background-color:#c8cef3;
        padding: 20px;
        border-radius: 5px;
    }

    a{
        color:#242526;
    }

    a:hover{
        color:#3A3B3C;
    }  

</style>
<body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>

    <div class="top-container align-items-start">
        <h2>{% if session['username']%} Welcome Back, {{session['username']}}! {% endif %}</h2>
        <h4>Upcoming Vacations</h4>
        <div class="row">
            {%for i in recent_vacations_user%}
                <div class="col" style="max-width: 25%;">
                    <div class="vacation-card" style="height: 100%; max-width: 100%;">
                        <div class="card-body">
                            <h5 class="card-title">{{i['description']}}</h5>
                            <span class="d-inline-block text-truncate" style="max-width: 100%;">
                                <Lorem class="card-text">
                                    Start Date: {{i['start_date']}}<br>
                                    End Date: {{i['end_date']}}<br>
                                <a href="{{url_for('logged_vacations_template',vac_id=i['vac_id'],page='summary')}}">
                                    Explore
                                    <i class="bi bi-arrow-right"></i>
                                </a>
                                </Lorem>
                            </span>
                        </div>
                    </div>
                </div>
            {% endfor %}

            <div class="bottom-container justify-content-center">
                <h4>All my vacations</h4>
                <form class="d-flex" role="search" style="margin-top:auto; margin-bottom: auto;">
                  <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                  <div class="dropdown" style="margin-right:0.5%;">
                    <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                      Search by
                    </button>
                    <ul class="dropdown-menu dropdown-menu-dark">
                      <li><a class="dropdown-item" href="#">Vacation Name</a></li>
                      <li><a class="dropdown-item" href="#">Date</a></li>
                      <li><a class="dropdown-item" href="#">Description</a></li>
                    </ul>
                  </div>
                  <button class="btn btn-outline-secondary" type="submit">Search</button>
                </form>
                <p></p>
                <table class="table table-hover">
                    <thead class="bg-dark text-white">
                      <tr>
                        <th scope="col">No.</th>
                        <th scope="col">Vacation Description</th>
                        <th scope="col">Start Date</th>
                        <th scope="col">End Date</th>
                        <th scope="col">Budget Limit</th>
                      </tr>
                    </thead>
                    <tbody>
                    {% for j in vacations_user%}
                      <tr>
                        <th scope="row">{{loop.index}}</th>
                        <td><a href="{{url_for('logged_vacations_template',vac_id=j['vac_id'],page='summary')}}">{{j['description']}}</a></td>
                        <td>{{j['start_date']}}</td>
                        <td>{{j['end_date']}}</td>
                        <td>{{j['budget_limit']}}</td>
                      </tr>
                    {% endfor %}

                    </tbody>
                  </table>
              </div>

        </div>
    </div>
      
</body>

{% endblock %}

